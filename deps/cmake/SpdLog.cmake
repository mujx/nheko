set(WINDOWS_FLAGS "")

if(MSVC)
    set(WINDOWS_FLAGS "-DCMAKE_GENERATOR_PLATFORM=x64")
endif()

ExternalProject_Add(
  SpdLog

  GIT_REPOSITORY ${SPDLOG_URL}
  GIT_TAG ${SPDLOG_TAG}

  BUILD_IN_SOURCE 1
  SOURCE_DIR ${DEPS_BUILD_DIR}/spdlog
  CONFIGURE_COMMAND ${CMAKE_COMMAND}
        -DCMAKE_INSTALL_PREFIX=${DEPS_INSTALL_DIR}
        -DSPDLOG_BUILD_EXAMPLES=0
        -DSPDLOG_BUILD_TESTING=0
        ${DEPS_BUILD_DIR}/spdlog
        ${WINDOWS_FLAGS})

list(APPEND THIRD_PARTY_DEPS SpdLog)
